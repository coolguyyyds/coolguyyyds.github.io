<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Node.js - day01 今天是Node.js的第一天,也称作框架前置课  阶段说明 首先同步一下咱们已经掌握的内容,并且明确一下咱们这个阶段需要学习的内容:  已学习:  html:页面结构,各类标签 css:页面样式,less js:基础语法,webAPI,插件 ajax:前后端交互,axios  阶段目标:  为后续框架的学习打基础  课程安排:  nodejs:核心模块 npm (包">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/11/17/Node.js%20-%20day01/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Node.js - day01 今天是Node.js的第一天,也称作框架前置课  阶段说明 首先同步一下咱们已经掌握的内容,并且明确一下咱们这个阶段需要学习的内容:  已学习:  html:页面结构,各类标签 css:页面样式,less js:基础语法,webAPI,插件 ajax:前后端交互,axios  阶段目标:  为后续框架的学习打基础  课程安排:  nodejs:核心模块 npm (包">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/jh-node.png">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/image-20220717210346182.png">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/lct.png">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/Snipaste_2020-10-09_10-58-59.png">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/image-20220809173644521.png">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/image-20220809182505357.png">
<meta property="og:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/%E4%BD%9C%E4%B8%9A.gif">
<meta property="article:published_time" content="2022-11-17T10:42:47.462Z">
<meta property="article:modified_time" content="2022-11-15T10:57:18.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/11/17/Node.js%20-%20day01/assets/jh-node.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Node.js - day01" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/11/17/Node.js%20-%20day01/" class="article-date">
  <time datetime="2022-11-17T10:42:47.462Z" itemprop="datePublished">2022-11-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Node-js-day01"><a href="#Node-js-day01" class="headerlink" title="Node.js - day01"></a>Node.js - day01</h1><blockquote>
<p>今天是<code>Node.js</code>的第一天,也称作<strong>框架前置课</strong></p>
</blockquote>
<h2 id="阶段说明"><a href="#阶段说明" class="headerlink" title="阶段说明"></a>阶段说明</h2><blockquote>
<p>首先同步一下咱们<strong>已经掌握</strong>的内容,并且明确一下咱们<strong>这个阶段</strong>需要学习的内容:</p>
</blockquote>
<p><strong>已学习:</strong></p>
<ol>
<li><strong>html</strong>:页面结构,各类标签</li>
<li><strong>css</strong>:页面样式,less</li>
<li><strong>js</strong>:基础语法,webAPI,插件</li>
<li><strong>ajax</strong>:前后端交互,axios</li>
</ol>
<p><strong>阶段目标:</strong></p>
<ul>
<li>为<strong>后续框架</strong>的学习打基础</li>
</ul>
<p><strong>课程安排:</strong></p>
<ol>
<li><code>nodejs</code>:核心模块</li>
<li><code>npm</code> (包管理工具)   + <code>es6</code>模块化   </li>
<li><code>yarn</code> (<strong>民间</strong>的包管理工具) + <code>webpack</code>        </li>
</ol>
<h1 id="Node基本使用"><a href="#Node基本使用" class="headerlink" title="Node基本使用"></a>Node基本使用</h1><h2 id="Node-js是什么"><a href="#Node-js是什么" class="headerlink" title="Node.js是什么?"></a>Node.js是什么?</h2><blockquote>
<p>首先咱们来认识一下<code>Node.js</code>是什么?</p>
<p><a target="_blank" rel="noopener" href="https://nodejs.dev/learn">传送门：Node.js简介</a></p>
<p><a target="_blank" rel="noopener" href="https://v8.dev/">传送门：V8引擎官方网站</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/ECMAScript">传送门：ECMAScript</a></p>
<p><a target="_blank" rel="noopener" href="https://nodejs.dev/learn/the-v8-javascript-engine">传送门：V8 JavaScript引擎</a></p>
</blockquote>
<p><strong>概念：</strong></p>
<ul>
<li><code>Node.js</code> 是一个基于<code>Chrome V8引擎</code>的 <code>JavaScript</code> 运行时环境</li>
<li>说人话：<code>Node.js</code>也可以运行<code>JS</code>哦</li>
</ul>
<h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><p><img src="assets/jh-node.png" alt="jh-node"></p>
<p><strong>综上：</strong></p>
<ol>
<li><code>JS</code>的基础语法在<code>Node.js</code>中也可以写</li>
<li><code>Dom</code>和<code>Bom</code>等浏览器的内置<code>API</code>,<code>Node</code>中无法使用</li>
</ol>
<h3 id="运行时环境"><a href="#运行时环境" class="headerlink" title="运行时环境"></a>运行时环境</h3><p>这里的<code>运行环境</code>指的是代码正常运行所需的必要条件，<code>Chrome</code>和<code>Node.js</code>都可以运行<code>JS</code></p>
<ul>
<li>无论在<code>Chrome</code>还是<code>Node.js</code>中，都可以解析并运行<code>没有</code>语法错误的<code>JS</code>代码</li>
<li>他俩解析<code>JS</code>用的都是同一个东西:<code>Chrome V8</code>引擎</li>
</ul>
<h3 id="Chrome-V8引擎"><a href="#Chrome-V8引擎" class="headerlink" title="Chrome V8引擎"></a>Chrome V8引擎</h3><p>不同的浏览器使用不同的 <code>JavaScript</code> 解析引擎解析<code>JS</code></p>
<ul>
<li><code>**Chrome</code> 浏览器 =&gt; <code>V8</code>** </li>
<li><code>Firefox</code> 浏览器=&gt; <code>OdinMonkey</code>(奥丁猴)</li>
<li><code>Safri</code> 浏览器=&gt; <code>JSCore</code></li>
<li><code>IE</code> 浏览器=&gt; <code>Chakra</code>(查克拉) </li>
<li>etc… </li>
</ul>
<p>其中，<code>Chrome</code> 浏览器的 <code>V8</code> 解析引擎性能最好! 这也是为什么<code>Node.js</code>选用<code>V8</code>引擎来解析<code>JS</code></p>
<p>回过头来再看看这句话：</p>
<ul>
<li><code>Node.js</code> 是一个基于<code>Chrome V8引擎</code>的 <code>JavaScript</code> 运行时环境<ul>
<li><code>Node.js</code>也可以解析<code>JS</code>,可以解析<strong>JS的基础语法</strong></li>
<li>解析用的是<code>Chrome</code>的js解析器–<strong>V8</strong></li>
</ul>
</li>
</ul>
<h3 id="Node-js是什么-1"><a href="#Node-js是什么-1" class="headerlink" title="Node.js是什么"></a>Node.js是什么</h3><p>这一节咱们介绍了一下什么是<strong>Node.js</strong>:<code>Node.js</code> 是一个基于<code>Chrome V8引擎</code>的 <code>JavaScript</code> 运行时环境,基于这一特性</p>
<ol>
<li><p><code>Node.js</code>是否可以解析<code>ECMAScript</code>？</p>
<ol>
<li>js的基础语法</li>
</ol>
</li>
<li><p><code>Node.js</code>和<code>Chrome</code>浏览器解析<code>JS</code>使用的都是什么引擎？</p>
<ol>
<li><strong>v8</strong></li>
</ol>
</li>
</ol>
<h2 id="Node-js能干啥？"><a href="#Node-js能干啥？" class="headerlink" title="Node.js能干啥？"></a>Node.js能干啥？</h2><blockquote>
<p>简单认识了<code>Node.js</code>之后，接下来咱们来看看他能干啥，或者说我们学完之后能用他来干啥？</p>
</blockquote>
<h3 id="他能干啥？"><a href="#他能干啥？" class="headerlink" title="他能干啥？"></a>他能干啥？</h3><p><code>Node.js</code> 作为一个 <code>JavaScript</code> 的运行环境，仅仅提供了基础的功能和 <code>API</code>。然而，基于 <code>Node.js</code> 提供的这些基础功能，很多强大 的工具和框架如雨后春笋，层出不穷，所以学会了 <code>Node.js</code> ，可以让<strong>前端程序员胜任更多的工作和岗位</strong>！</p>
<ul>
<li>基于 <strong>Express/Koa</strong> 框架(<a target="_blank" rel="noopener" href="http://www.expressjs.com.cn/)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BA">http://www.expressjs.com.cn/)，可以快速构建</a> Web 应用–&gt;<code>java</code></li>
<li>基于 <strong>Electron</strong> 框架(<a target="_blank" rel="noopener" href="https://electronjs.org/)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%9E%84%E5%BB%BA**%E8%B7%A8%E5%B9%B3%E5%8F%B0**%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8--&gt;%60%E5%AE%89%E8%A3%85,%E6%89%8D%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%9A%84,%E5%BC%80%E5%8F%91%E4%B8%80%E6%AC%A1,%E5%A4%9A%E5%B9%B3%E5%8F%B0%E8%BF%90%E8%A1%8C%60">https://electronjs.org/)，可以构建**跨平台**的桌面应用--&gt;`安装,才可以使用的,开发一次,多平台运行`</a></li>
<li>基于 <strong>Crawler</strong> 框架(<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/crawler)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91**%E7%88%AC%E8%99%AB%E5%BA%94%E7%94%A8**--&gt;%60%E5%BE%88%60">https://www.npmjs.com/package/crawler)，可以快速开发**爬虫应用**--&gt;`很`</a></li>
<li>读写和操作<strong>数据库</strong>、创建实用的命令行工具<strong>辅助前端开发</strong>（后续框架中会一直使用的）</li>
<li><code>etc</code>…</li>
</ul>
<p>总之，<code>Node.js</code> 是大前端时代的“大宝剑”，有了 <code>Node.js</code> 这个超级 <code>buff</code> 的加持，前端程序员的行业竞争力会越来越强！</p>
<h3 id="我们用它来干啥"><a href="#我们用它来干啥" class="headerlink" title="我们用它来干啥"></a>我们用它来干啥</h3><ol>
<li>了解<strong>部分后端</strong>开发知识</li>
<li>了解他如何<code>辅助前端开发</code></li>
</ol>
<h3 id="Node-js能干啥"><a href="#Node-js能干啥" class="headerlink" title="Node.js能干啥"></a>Node.js能干啥</h3><p>虽然咱们之后的学习重心是前端开发,但是结合这一节的介绍,咱们也了解了一下<code>Node.js</code>能干的事情:</p>
<ol>
<li><p><code>Node.js</code>是否可以用来写接口？</p>
<ol>
<li>可以</li>
</ol>
</li>
<li><p><code>Node.js</code>能否写爬虫?</p>
<ol>
<li>可以</li>
</ol>
</li>
<li><p><code>Node.js</code>目前课程中主要的作用是学习如何<strong>辅助前端开发</strong></p>
</li>
</ol>
<h2 id="Node-js的安装"><a href="#Node-js的安装" class="headerlink" title="Node.js的安装"></a>Node.js的安装</h2><blockquote>
<p>这一节咱们来安装<code>Node.js</code></p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/">传送门：Node.js官网</a></p>
</blockquote>
<h3 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h3><ol>
<li>访问<code>Node.js</code>官网</li>
<li>下载左侧的版本即可：<ol>
<li><code>LTS</code> 为长期稳定版，对于追求稳定性的企业级项目来说，推荐安装 LTS 版本。</li>
<li><code>Current</code> 为新特性尝鲜版，对于热衷于尝试新特性的用户来说，推荐安装 <code>Current</code> 版本的 <code>Node.js</code>。但是，Current 版本 中可能存在隐藏的 Bug 或安全性漏洞，因此不推荐在企业级项目中使用 <code>Current</code> 版本的 <code>Node.js</code>。</li>
</ol>
</li>
</ol>
<p><img src="assets/image-20220717210346182.png" alt="image-20220717210346182"></p>
<ol start="3">
<li><p>安装的过程全程<code>下一步</code></p>
<ol>
<li>不要改任何设置</li>
</ol>
</li>
<li><p><strong>注意！！！！！：</strong></p>
<ol>
<li>如非必要不要更改安装路径</li>
</ol>
</li>
<li><p>安装完毕之后打开终端，并输入:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure></li>
<li><p>能够看到<strong>版本号</strong>说明安装成功</p>
</li>
<li><p>如果看不到：</p>
<ol>
<li>关闭所有打开的终端，重新打开</li>
</ol>
</li>
</ol>
<h3 id="补充-常见终端窗口："><a href="#补充-常见终端窗口：" class="headerlink" title="补充-常见终端窗口："></a>补充-常见终端窗口：</h3><ul>
<li><strong>Windows</strong><ul>
<li>自带 <strong>cmd</strong> （在文件夹路径位置，输入cmd，回车）</li>
<li>自带 <strong>powershell</strong> （在文件夹路径位置，输入powershell ，回车）</li>
<li>商店下载 Windows Terminal </li>
<li>安装git之后，点 git bash here</li>
</ul>
</li>
<li><strong>Mac</strong><ul>
<li>终端</li>
<li><a target="_blank" rel="noopener" href="https://gitee.com/laotang1234/ohmyzsh">https://gitee.com/laotang1234/ohmyzsh</a></li>
</ul>
</li>
</ul>
<h3 id="Node-js的安装-1"><a href="#Node-js的安装-1" class="headerlink" title="Node.js的安装"></a>Node.js的安装</h3><p>这一节咱们安装了<strong>Node.js</strong>,其实很多开发用的工具安装的套路是类似的:</p>
<ol>
<li><p>咱们学习时<code>Node.js</code>下载时推荐下载哪个版本：长期维护版 or 最新尝鲜版本？</p>
<ol>
<li>长期维护版</li>
</ol>
</li>
<li><p>开发用的软件下载时推荐用哪个版本?</p>
<ol>
<li>推荐下载稳定版</li>
</ol>
</li>
</ol>
<h2 id="Node-js基本使用"><a href="#Node-js基本使用" class="headerlink" title="Node.js基本使用"></a>Node.js基本使用</h2><blockquote>
<p>确保上一步的准备工作完成之后，咱们就可以来用<code>Node.js</code>来执行代码啦</p>
</blockquote>
<p>主要有两种方法,掌握<strong>第一种</strong>即可</p>
<h3 id="方法1-使用node解析js文件（掌握）"><a href="#方法1-使用node解析js文件（掌握）" class="headerlink" title="方法1-使用node解析js文件（掌握）:"></a>方法1-使用node解析js文件（掌握）:</h3><ol>
<li><p><strong>编写语法正确的<code>.js</code>文件</strong></p>
<ol>
<li>除了<code>Bom</code>和<code>Dom</code>，基本都可以写</li>
<li><code>console.log</code>,<code>setTimeout</code>这些也提供了</li>
<li><strong>注意！！！！：</strong>是<code>.js</code>文件</li>
</ol>
</li>
<li><p>在<code>.js</code>文件所在文件夹打开任意终端</p>
<ol>
<li><code>vscode 自带终端</code></li>
<li><code>cmd</code></li>
<li><code>power shell</code></li>
<li><code>git bash</code></li>
<li>….</li>
</ol>
</li>
<li><p>输入命令<code>node xx.js</code></p>
<ol>
<li><code>xx.js</code>是需要执行的文件名</li>
<li>中间有<strong>空格</strong></li>
</ol>
</li>
</ol>
<h3 id="方法2-终端里写代码（了解）："><a href="#方法2-终端里写代码（了解）：" class="headerlink" title="方法2-终端里写代码（了解）："></a>方法2-终端里写代码（了解）：</h3><ol>
<li><p>打开终端窗口:</p>
</li>
<li><p>输入<code>node</code>回车</p>
</li>
<li><p>输入语法正确的<code>JS</code>代码,比如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;感觉自己萌萌哒!&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>点击回车</p>
</li>
<li><p><code>ctrl+c</code>退出窗口</p>
</li>
<li><p><strong>思考：</strong></p>
<ol>
<li>如果代码很复杂用这种方式你是否快乐？</li>
</ol>
</li>
</ol>
<h3 id="补充：指定文件夹打开终端的方法："><a href="#补充：指定文件夹打开终端的方法：" class="headerlink" title="补充：指定文件夹打开终端的方法："></a>补充：指定文件夹打开终端的方法：</h3><ol>
<li><code>cmd</code>:<ol>
<li>文件夹路径处输入<code>cmd</code>，回车</li>
</ol>
</li>
<li><code>powershell</code><ol>
<li>在文件夹路径处输入<code>powershell</code>,回车</li>
</ol>
</li>
<li><code>git bash</code><ol>
<li>文件夹中直接鼠标右键<code>git bash here</code>即可</li>
</ol>
</li>
<li><code>vscode</code><ol>
<li>在左侧资源管理中选中文件并右键</li>
<li>选择:<code>在集成终端中打开</code></li>
<li>**ctrl+`**可以快速切换终端的开关</li>
<li><strong>注意：</strong><ol>
<li>初期<strong>不建议开多个</strong></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="补充-终端使用技巧"><a href="#补充-终端使用技巧" class="headerlink" title="补充-终端使用技巧"></a>补充-终端使用技巧</h3><ol>
<li>方向键<code>↑</code>,<code>↓</code>可以切换历史命令</li>
<li>按<code>tab</code>可以自动补全</li>
<li><code>cls</code>或者<code>clear</code>可以清屏</li>
<li><code>cd ../</code>,<code>cd 文件夹名</code>… 路径切换</li>
<li>….</li>
</ol>
<h3 id="Node-js基本使用-1"><a href="#Node-js基本使用-1" class="headerlink" title="Node.js基本使用"></a>Node.js基本使用</h3><p>这一节演示了如何使用<code>Node.js</code>:</p>
<ol>
<li><p>本节演示的两种方法中建议使用哪一种?</p>
<ol>
<li>第一种</li>
<li><code>node xxx.js</code></li>
</ol>
</li>
<li><p>电脑上有那么多的终端工具，建议用哪一种？</p>
<ol>
<li>随便,用一个你喜欢的即可</li>
</ol>
</li>
</ol>
<h1 id="global模块"><a href="#global模块" class="headerlink" title="global模块"></a>global模块</h1><blockquote>
<p>类似于<code>window</code>对象,node中也有全局模块,在使用时不需要引入，直接使用</p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/api/modules.html#__dirname">传送门:__dirname</a></p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/modules.html#__filename">传送门:__filename</a></p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/console.html">传送门:console</a></p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/globals.html#setintervalcallback-delay-args">传送门:setTimeout</a></p>
</blockquote>
<p><strong>参考代码:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * window 浏览器中的全局对象</span></span><br><span class="line"><span class="comment">  * global nodejs中的全局对象</span></span><br><span class="line"><span class="comment">  * 注意 : node里面使用 global里面的变量,不需要引入</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//1. console.log()  打印</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//2. setTimeout 和setInterval ，延时器和定时器</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 模块作用域下的属性 </span></span><br><span class="line">  <span class="comment">//3. __dirname  当前文件夹的绝对路径</span></span><br><span class="line">  <span class="comment">//4. __filename 当前文件的完整路径, 包含当前文件</span></span><br><span class="line">  <span class="comment">//从当前所在磁盘盘符一直到当前文件夹的路径</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(__dirname);</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(__filename);</span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="global模块-1"><a href="#global模块-1" class="headerlink" title="global模块"></a>global模块</h3><ol>
<li>本节演示的代码是否可以直接使用,还是需要导入其他文件?<ol>
<li>不需要 直接即可使用</li>
</ol>
</li>
</ol>
<h1 id="FS模块"><a href="#FS模块" class="headerlink" title="FS模块"></a>FS模块</h1><blockquote>
<p><code>fs</code>模块是<code>nodejs</code>中最常用的一个模块，fs模块的方法非常多,今天咱们了解2个即可</p>
<p>文档地址：<a target="_blank" rel="noopener" href="http://nodejs.cn/api/fs.html">http://nodejs.cn/api/fs.html</a></p>
</blockquote>
<p>  <strong>注意：</strong></p>
<ol>
<li>除了global模块中的内容可以直接使用，其他模块都是需要加载的。</li>
<li>fs模块不是全局的，不能直接使用。因此需要导入才能使用。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类比于浏览器中 script src=&quot;xx&quot;</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h2><blockquote>
<p>首先是读取文件的方法</p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/fs.html#fsreadfilesyncpath-options">传送门:readFileSync</a></p>
</blockquote>
<p><code>fs</code>模块提供的读取文件的方法有很多种,咱们来学习这种同步的读取写法</p>
<p>**写法1:**不考虑异常</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法1 不给编码格式 返回buffer对象</span></span><br><span class="line"><span class="comment">// const res = fs.readFileSync(&#x27;./info/a.txt&#x27;)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;res:&#x27;</span>, res)</span><br><span class="line"><span class="comment">// 写法2 给编码格式</span></span><br><span class="line"><span class="keyword">const</span> res2 = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./info/a.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;res2:&#x27;</span>, res2)</span><br></pre></td></tr></table></figure>

<p>**写法2:**可以通过<code>try-catch</code>捕获</p>
<p>**注意:**关于Buffer对象</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. Buffer对象是Nodejs用于处理二进制数据的。</span><br><span class="line">2. 其实任意的数据在计算机底层都是二进制数据，因为计算机只认识二进制。</span><br><span class="line">3. 所以读取任意的文件，返回的结果都是二进制数据，即Buffer对象</span><br><span class="line">4. Buffer对象可以调用toString()方法转换成字符串。</span><br></pre></td></tr></table></figure>

<h3 id="读取文件-1"><a href="#读取文件-1" class="headerlink" title="读取文件"></a>读取文件</h3><ol>
<li><p><code>readFileSync</code>是哪个模块点出来的?</p>
<ol>
<li><code>fs</code></li>
</ol>
</li>
<li><p>不设置编码格式返回的是什么?</p>
<ol>
<li><strong>用进制的方式表示的数据</strong></li>
</ol>
</li>
</ol>
<h2 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h2><blockquote>
<p>接下来咱们来学习如何写文件</p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/fs.html#fswritefilesyncfile-data-options">传送门:writeFileSync</a></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数1 路径</span></span><br><span class="line"><span class="comment">// 参数2 内容</span></span><br><span class="line"><span class="comment">// 可以使用try-catch捕获异常</span></span><br><span class="line">fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;./info/a.txt&#x27;</span>,<span class="string">&#x27;内容&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="小测试"><a href="#小测试" class="headerlink" title="小测试:"></a>小测试:</h3><ol>
<li>基本使用</li>
<li>文件不存在</li>
<li>文件夹和文件均不存在</li>
</ol>
<h3 id="写文件-1"><a href="#写文件-1" class="headerlink" title="写文件"></a>写文件</h3><p>这一节咱们演示如何写文件:</p>
<ol>
<li><p><code>writeFileSync</code>是哪个模块点出来的?</p>
<ol>
<li><code>fs</code></li>
</ol>
</li>
<li><p>文件不存在是否会报错?</p>
<ol>
<li>不会–&gt;创建</li>
</ol>
</li>
<li><p>文件夹不存在是否会报错?</p>
<ol>
<li>报错–&gt;找不到</li>
</ol>
</li>
</ol>
<h2 id="demo-成绩统计"><a href="#demo-成绩统计" class="headerlink" title="demo - 成绩统计"></a>demo - 成绩统计</h2><blockquote>
<p>结合刚刚学习的内容,咱们来完成一个成绩统计的案例</p>
</blockquote>
<h3 id="需求"><a href="#需求" class="headerlink" title="需求:"></a>需求:</h3><ol>
<li>读取<code>成绩.txt</code>中的成绩并进行累加</li>
<li>将累加的结果保存到,<code>总成绩.txt</code>中</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">小明=98,小红=68,小黑=88,小绿=77,小王=59,小白=100</span><br></pre></td></tr></table></figure>





<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤:"></a>步骤:</h3><ol>
<li><p>读取数据</p>
<ol>
<li><code>fs.readFileSync</code></li>
</ol>
</li>
<li><p>转换数据格式</p>
<ol>
<li>,—&gt;分隔 <code>split</code>—字符串–&gt;数组</li>
<li><code>=</code>–&gt;<code>split</code>获取到数值</li>
</ol>
</li>
<li><p>累加并保存</p>
<ol>
<li>累加</li>
<li><code>fs.writeFileSync</code></li>
</ol>
</li>
</ol>
<h3 id="核心代码"><a href="#核心代码" class="headerlink" title="核心代码"></a>核心代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="comment">// 1. 读取数据</span></span><br><span class="line"><span class="keyword">const</span> scope = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./score/成绩.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment">// console.log(&#x27;scope:&#x27;, scope)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.转换数据格式</span></span><br><span class="line"><span class="comment">// 根据,切换为 数组</span></span><br><span class="line"><span class="keyword">const</span> arr = scope.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment">// 基于数组 获取每一项中的数字</span></span><br><span class="line"><span class="keyword">const</span> numArr = arr.<span class="title function_">map</span>(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// console.log(v.split(&#x27;=&#x27;))</span></span><br><span class="line">  <span class="comment">// 切割之后索引为1的值 str</span></span><br><span class="line">  <span class="comment">// +str--&gt;数字</span></span><br><span class="line">  <span class="keyword">return</span> +v.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// console.log(&#x27;numArr:&#x27;, numArr)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.累加+保存</span></span><br><span class="line"><span class="keyword">const</span> total = numArr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> pre + cur</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// console.log(&#x27;total:&#x27;, total)</span></span><br><span class="line"><span class="comment">// 不允许直接写入数字 转为 字符串</span></span><br><span class="line"><span class="comment">// 数字+&#x27;&#x27;--&gt;string</span></span><br><span class="line">fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;./score/总成绩.txt&#x27;</span>, total + <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="demo-成绩统计-1"><a href="#demo-成绩统计-1" class="headerlink" title="demo - 成绩统计"></a>demo - 成绩统计</h3><ol>
<li><strong>处理数据</strong>时如果默认的格式不便于计算,如何处理?<ol>
<li>转换</li>
<li>调用接口时,也经常碰到</li>
</ol>
</li>
</ol>
<h2 id="上午回顾"><a href="#上午回顾" class="headerlink" title="上午回顾"></a>上午回顾</h2><blockquote>
<p>上午的重点内容有哪些呢?</p>
</blockquote>
<ol>
<li><code>Node.js</code><ol>
<li><code>JavaScript</code>的运行时环境</li>
<li>他也可以解析<code>js</code>代码</li>
</ol>
</li>
<li>如何用<code>Node.js</code>解析<code>js</code><ol>
<li><code>node 文件名.js</code></li>
</ol>
</li>
<li><code>fs</code>文件模块<ol>
<li><code>const fs = require(&#39;fs&#39;)</code></li>
<li>读取:<code>fs.readFileSync</code></li>
<li>写入:<code>fs.writeFileSync</code></li>
<li>成绩统计的案例</li>
</ol>
</li>
<li><code>reduce</code></li>
</ol>
<h2 id="路径动态拼接的问题"><a href="#路径动态拼接的问题" class="headerlink" title="路径动态拼接的问题"></a>路径动态拼接的问题</h2><blockquote>
<p>目前为止咱们终端所处路径和<code>.js</code>所在的路径相同,如果不相同呢?</p>
</blockquote>
<p><strong>概念:</strong></p>
<ol>
<li>代码在运行的时候，会以执行<code>node</code> 命令时所处的目录(<strong>小黑窗</strong>)，<strong>动态拼接出</strong>被操作文件的完整路径。</li>
</ol>
<h3 id="复现步骤"><a href="#复现步骤" class="headerlink" title="复现步骤:"></a>复现步骤:</h3><ol>
<li><code>node</code>切换到和<code>.js</code>不同级的目录</li>
<li>运用相对路径执行<code>.js</code>文件</li>
<li>测试<strong>基本逻辑</strong>的<code>js</code></li>
<li>测试上一节<code>demo</code>中的<code>.js</code></li>
<li>测试使用<strong>绝对路径</strong></li>
</ol>
<h3 id="路径动态拼接的问题-1"><a href="#路径动态拼接的问题-1" class="headerlink" title="路径动态拼接的问题"></a>路径动态拼接的问题</h3><p>这一节咱们演示了<strong>路径动态</strong>拼接的问题:</p>
<ol>
<li><p>执行<code>node</code>命令时,代码中的相对路径会和<strong>哪个路径</strong>动态拼接?</p>
<ol>
<li>会和<strong>终端中的路径动态</strong>的拼接</li>
<li>不是和<code>执行的js</code>动态拼接</li>
</ol>
</li>
<li><p>相对路径不靠谱,如何解决?</p>
<ol>
<li><strong>绝对路径</strong></li>
</ol>
</li>
</ol>
<h1 id="path模块"><a href="#path模块" class="headerlink" title="path模块"></a>path模块</h1><blockquote>
<p>Node.js提供的处理路径的模块<code>path</code>,提供了很多处理路径的方法和属性,他也是一个内置模块</p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/path.html">传送门:path模块</a></p>
</blockquote>
<p>类似于<code>FS</code>模块,使用时需要先导入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>方法很多,咱们了解其中的1个即可</p>
<ol>
<li><code>join</code></li>
</ol>
<h2 id="拼接-join"><a href="#拼接-join" class="headerlink" title="拼接-join"></a>拼接-join</h2><blockquote>
<p>首先是join方法,他可以把多个路径片段拼接为完整的路径字符串,并且<strong>格式</strong>会和当前所在的<strong>操作系统一致</strong></p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v16.x/docs/api/path.html#pathjoinpaths">传送门:join</a></p>
</blockquote>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ol>
<li>基于文档确认语法</li>
</ol>
<h3 id="测试步骤"><a href="#测试步骤" class="headerlink" title="测试步骤"></a>测试步骤</h3><ol>
<li>基于文档确认语法并进行<strong>测试</strong></li>
<li>测试通过之后:<ol>
<li>使用<strong>绝对路径</strong>来<strong>读取</strong>文件</li>
</ol>
</li>
</ol>
<h3 id="拼接-join方法"><a href="#拼接-join方法" class="headerlink" title="拼接-join方法"></a>拼接-join方法</h3><p>这一节咱们演示了如何通过<code>join</code>方法拼接路径:</p>
<ol>
<li><p>利用<code>join</code>方法拼接路径和直接自己拼接的区别是?</p>
<ol>
<li>简单</li>
<li>根据具体的设备,生成不同的路径—&gt;<strong>灵活</strong></li>
</ol>
</li>
<li><p>不同操作系统拼接出来的路径是否相同?</p>
<ol>
<li><code>\</code>–<code>/</code></li>
</ol>
</li>
</ol>
<h1 id="http模块"><a href="#http模块" class="headerlink" title="http模块"></a>http模块</h1><blockquote>
<p>今天的最后我们来学习<code>http</code>模块,并且结合他来开发一个<strong>静态资源服务器</strong></p>
</blockquote>
<h2 id="前置知识及http模块介绍"><a href="#前置知识及http模块介绍" class="headerlink" title="前置知识及http模块介绍"></a>前置知识及http模块介绍</h2><blockquote>
<p>为了更好的理解后续的代码,咱们来学习一些预备的知识</p>
</blockquote>
<h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><p><strong>当我们在浏览器中输入了<a target="_blank" rel="noopener" href="http://www.baidu.com的时候,发生了什么/">www.baidu.com的时候,发生了什么</a>?</strong></p>
<ul>
<li><p>ip地址 域名 端口三者之间的关系?</p>
<ul>
<li><p><strong>ip地址:</strong> </p>
<ul>
<li><p>任何一台设备(计算机, 手机, …)想要接入到网络中(互联网,局域网)，就会被分配一个<strong>唯一的ip地址</strong></p>
</li>
<li><p>通过这个<code>ip</code>地址就能找到这台设备</p>
</li>
</ul>
</li>
<li><p><strong>域名:</strong></p>
<ul>
<li>比如 <a target="_blank" rel="noopener" href="http://www.jd.com/">www.jd.com</a> 就是域名 ，方便记忆</li>
<li>我们购买了<strong>服务器</strong>之后, 服务器会有一个<strong>IP</strong>地址,  我们可以通过<strong>域名解析</strong>让域名指向当前IP</li>
<li>域名和ip地址绑定后，通过域名就可以找到对应的<strong>ip地址</strong>, 从而访问到该服务器</li>
</ul>
</li>
<li><p><strong>端口:</strong> </p>
<ul>
<li>端口是计算机和外界通讯的<strong>虚拟通道</strong></li>
<li>一台计算机能运行很多程序, 一般一个程序会占用<strong>一个</strong>或者<strong>多个</strong>端口</li>
<li>http协议的默认端口是<strong>80</strong></li>
<li>https协议的默认端口是<strong>443</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>浏览器与服务器的交互过程</strong></p>
<p><img src="assets/lct.png" alt="image-20210511130054287"></p>
<ol>
<li>根据相关域名, 去查询<code>dns</code>服务器,得到对应的ip地址</li>
<li>根据<code>IP</code>地址, 找到对应的计算机</li>
<li>根据<code>端口</code>找到对应的服务器程序</li>
<li>根据<code>url</code>请求具体的信息</li>
<li>服务器根据上述信息<strong>发送请求</strong></li>
<li>浏览器<strong>接收</strong>到了服务器的响应, 把结果响应出来</li>
</ol>
<h3 id="什么是http模块"><a href="#什么是http模块" class="headerlink" title="什么是http模块"></a>什么是http模块</h3><blockquote>
<p><code>http</code>也是内置模块, Node.js 官方提供的、用来创建web 服务器的模块。</p>
</blockquote>
<p>它提供了一系列的方法和属性,让开发者(咱们)可以用代码来创建<strong>服务器</strong>,接收<strong>请求</strong>及响应<strong>内容</strong>例如：</p>
<p>⚫ <code>http.createServer()</code> 方法，用来创建一个<code>web</code> 服务器，从而对外提供web 资源</p>
<p>如果要在 <code>Node.js</code>的代码中使用 <code>http</code> 模块，则需要先<strong>导入它</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="前置知识及http模块介绍-1"><a href="#前置知识及http模块介绍-1" class="headerlink" title="前置知识及http模块介绍"></a>前置知识及http模块介绍</h3><p>这一节咱们介绍了请求web服务器的基本流程,及<code>Node</code>自带的<code>http</code>模块:</p>
<ol>
<li><p><code>url</code>地址经由什么解析为<code>ip</code>地址?</p>
<ol>
<li>DNS解析服务器</li>
</ol>
</li>
<li><p><code>http</code>协议的默认端口是?</p>
<ol>
<li>80</li>
</ol>
</li>
<li><p><code>node</code>提供了<code>http</code>模块可以让开发者创建<code>web</code>服务器</p>
</li>
</ol>
<h2 id="创建最基本的web服务器"><a href="#创建最基本的web服务器" class="headerlink" title="创建最基本的web服务器"></a>创建最基本的web服务器</h2><blockquote>
<p>接下来咱们基于官方的示例代码创建基本的<code>web</code>服务器</p>
<p><a target="_blank" rel="noopener" href="http://nodejs.cn/api-v16/http.html">传送门:http模块</a></p>
<p><a target="_blank" rel="noopener" href="http://nodejs.cn/learn#nodejs-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E7%A4%BA%E4%BE%8B">传送门:Node.js应用程序示例</a></p>
</blockquote>
<h3 id="步骤-1"><a href="#步骤-1" class="headerlink" title="步骤"></a>步骤</h3><ol>
<li>导入 <code>http</code> 模块</li>
<li> 创建 <code>web</code> 服务器实例</li>
<li> 启动服务器</li>
<li> 为服务器实例绑定<code>request</code> 事件，监听客户端的请求</li>
</ol>
<p>下面的代码直接<strong>c+v</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 http 模块 </span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建 web 服务器实例 </span></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 启动服务器</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;my server start work&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 为服务器实例绑定 request 事件，监听客户端的请求 </span></span><br><span class="line"><span class="comment">// 当客户端发送请求到服务器的时候，会触发这个事件</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 这里要处理客户端的请求</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello html&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h3><p>计算机中的<strong>端口号</strong></p>
<ol>
<li>计算机和外部通讯的虚拟通道</li>
<li>范围是:<strong>0—65535</strong></li>
<li>一个端口一次<strong>只能被一个</strong>服务占用:<ol>
<li>比较靠前的端口很多已经被电脑默认的服务占用</li>
<li>一般给4位的没什么被占用</li>
</ol>
</li>
<li>通过端口号来区分计算机提供的不同服务</li>
</ol>
<p><img src="assets/Snipaste_2020-10-09_10-58-59.png"></p>
<h3 id="代码解析"><a href="#代码解析" class="headerlink" title="代码解析:"></a>代码解析:</h3><h3 id="创建最基本的web服务器-1"><a href="#创建最基本的web服务器-1" class="headerlink" title="创建最基本的web服务器"></a>创建最基本的web服务器</h3><ol>
<li><p><code>request</code>事件什么时候触发?</p>
<ol>
<li>有人访问服务器会触发</li>
</ol>
</li>
<li><p>一个端口一次可以被几个服务使用?</p>
<ol>
<li>一个</li>
</ol>
</li>
<li><p>本节中的<code>3000</code>端口是否可以更换?</p>
<ol>
<li>可以,有效即可</li>
</ol>
</li>
</ol>
<h2 id="request对象和response对象"><a href="#request对象和response对象" class="headerlink" title="request对象和response对象"></a>request对象和response对象</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://nodejs.cn/api/http.html#http_request_method">传送门:request</a></p>
<p><a target="_blank" rel="noopener" href="http://nodejs.cn/api/http.html#http_class_http_serverresponse">传送门:response</a></p>
</blockquote>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念:"></a>概念:</h3><ol>
<li>为了让开发者更好的<strong>接收请求</strong>的信息,及<strong>设置返回</strong>的内容</li>
<li><code>request</code>事件中提供了<strong>2个</strong>参数,分别是<ol>
<li><code>request</code></li>
<li><code>response</code></li>
</ol>
</li>
</ol>
<h3 id="request常见属性："><a href="#request常见属性：" class="headerlink" title="request常见属性："></a>request常见属性：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">headers</span>: 所有的请求头信息</span><br><span class="line">method： 请求的方式(*)</span><br><span class="line">url： 请求的地址(*)</span><br></pre></td></tr></table></figure>

<h3 id="response常见属性和方法"><a href="#response常见属性和方法" class="headerlink" title="response常见属性和方法"></a>response常见属性和方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">end</span>(data); 结束请求，并且响应一段内容，相当于res.<span class="title function_">write</span>(data) + res.<span class="title function_">end</span>()</span><br><span class="line">res.<span class="property">statusCode</span>: 响应的的状态码 <span class="number">200</span> <span class="number">404</span> <span class="number">500</span></span><br><span class="line">res.<span class="title function_">setHeader</span>(name, value); 设置响应头信息， 比如content-type</span><br></pre></td></tr></table></figure>

<h3 id="测试"><a href="#测试" class="headerlink" title="测试:"></a>测试:</h3><ol>
<li>输出<code>request</code>对象中的<code>method</code>和<code>url</code>属性</li>
<li>通过<code>statusCode</code>属性设置不同的状态码</li>
<li>通过<code>setHeader</code>设置响应头</li>
<li>通过<code>end</code>设置不同的内容</li>
<li><strong>注意:</strong><ol>
<li>代码更改之后需要<code>ctrl+c</code>关闭并重新运行</li>
<li><code>favicon.ico</code>的请求是浏览器自己发送的</li>
<li>返回的内容中如果有<strong>中文会乱码</strong></li>
</ol>
</li>
</ol>
<h3 id="代码解析-1"><a href="#代码解析-1" class="headerlink" title="代码解析:"></a>代码解析:</h3><p>咱们来看看本节的代码是如何执行的</p>
<h3 id="request对象和response对象-1"><a href="#request对象和response对象-1" class="headerlink" title="request对象和response对象"></a>request对象和response对象</h3><ol>
<li><p>如何理解<code>request</code>和<code>response</code>对象?</p>
<ol>
<li><p><code>request</code>:</p>
<ol>
<li>请求,http模块,客户端请求的信息 保存到了 request中方便调用</li>
<li><code>url</code></li>
<li><code>method</code></li>
</ol>
</li>
<li><p><code>response</code></p>
<ol>
<li>响应,http模块为了让开发者,可以便捷的设置状态码,响应头,内容,提供了这么一个对象</li>
<li><code>statusCode</code>属性</li>
<li><code>setHeader(key,value)</code></li>
<li><code> response.setHeader(&#39;Content-Type&#39;, &#39;text/plain; charset=utf-8&#39;)</code></li>
<li><code>end(&#39;内容&#39;)</code></li>
</ol>
</li>
</ol>
</li>
<li><p>回调函数中<code>request</code>和<code>response</code>的名字是否可以修改?</p>
<ol>
<li>可以—&gt;形参</li>
</ol>
</li>
</ol>
<h2 id="根据url响应不同的html内容"><a href="#根据url响应不同的html内容" class="headerlink" title="根据url响应不同的html内容"></a>根据url响应不同的html内容</h2><blockquote>
<p>接下来咱们结合目前学习的知识来实现一个具体的效果</p>
</blockquote>
<h3 id="需求-1"><a href="#需求-1" class="headerlink" title="需求:"></a>需求:</h3><ol>
<li><code>url</code>为<ol>
<li><code>/</code>或者<code>/index.html</code>—&gt;<code>&lt;h1&gt;首页&lt;/h1&gt;</code></li>
<li><code>/about.html</code>—&gt;<code>&lt;h1&gt;about页面&lt;/h1&gt;</code></li>
<li>其他—-&gt;<code>&lt;h1&gt;404 not found&lt;/h1&gt;</code></li>
</ol>
</li>
</ol>
<h3 id="解决中文乱码问题"><a href="#解决中文乱码问题" class="headerlink" title="解决中文乱码问题"></a>解决中文乱码问题</h3><p>当调用 <code>res.end()</code> 方法，向客户端发送中文内容的时候，会出现乱码问题，此时，需要手动设置内容的编码格式,下面给出一些<code>content-type</code>的设置方法</p>
<p><strong>注意:</strong></p>
<ul>
<li>部分内容可以省略<code>content-type</code>设置,浏览器可以自行推断</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通文本</span></span><br><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/plain; charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="comment">// html</span></span><br><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>);</span><br></pre></td></tr></table></figure>





<h3 id="根据url响应不同的html内容-1"><a href="#根据url响应不同的html内容-1" class="headerlink" title="根据url响应不同的html内容"></a>根据url响应不同的html内容</h3><ol>
<li><p><code>setHeader(&#39;Content-Type&#39;, &#39;text/html; charset=utf-8&#39;);</code>的含义?</p>
<ol>
<li>告诉浏览器—&gt;内容是 html</li>
</ol>
</li>
<li><p>服务器返回的内容<strong>由谁</strong>说了算?</p>
<ol>
<li>服务器说了算</li>
<li>服务器的<strong>开发者说了算</strong></li>
</ol>
</li>
</ol>
<h2 id="demo-时钟案例"><a href="#demo-时钟案例" class="headerlink" title="demo-时钟案例"></a>demo-时钟案例</h2><blockquote>
<p>接下来结合目前所学的知识来完成一个<code>demo</code></p>
</blockquote>
<h3 id="需求-2"><a href="#需求-2" class="headerlink" title="需求:"></a>需求:</h3><p>浏览器输入<strong>对应的url地址</strong>,<strong>读取并返回</strong>对应的文件</p>
<ol>
<li><code>/</code>或者<code>/index.html</code>—&gt;返回<code>/clock/index.html</code></li>
<li><code>/clock.css</code>—&gt;返回<code>/clock/clock.css</code></li>
<li><code>/clock.js</code>—&gt;返回<code>/clock/clock.js</code></li>
<li>其他—-&gt;<code>&lt;h1&gt;404 not found&lt;/h1&gt;</code></li>
</ol>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析:"></a>分析:</h3><ol>
<li><p><strong>绝对路径</strong>读取文件需要导入?</p>
<ol>
<li><code>path.join()</code></li>
<li><code>fs.readFileSync</code></li>
</ol>
</li>
<li><p><strong>返回</strong>读取的文件</p>
<ol>
<li><code>end</code>方法响应内容</li>
</ol>
</li>
<li><p><strong>不需要</strong>设置<code>utf-8</code>的编码格式</p>
</li>
<li><p><strong>不需要</strong>设置<code>content-type</code></p>
</li>
</ol>
<h3 id="代码解析-2"><a href="#代码解析-2" class="headerlink" title="代码解析"></a>代码解析</h3><ol>
<li><p>代码是如何执行的?</p>
<p><img src="assets/image-20220809173644521.png" alt="image-20220809173644521"></p>
</li>
<li><p>为什么没有设置<code>utf-8</code>和<code>content-type</code>?</p>
<ol>
<li>浏览器大部分的资源可以自行的推断格式是什么</li>
</ol>
</li>
</ol>
<h3 id="demo-时钟案例-1"><a href="#demo-时钟案例-1" class="headerlink" title="demo-时钟案例"></a>demo-时钟案例</h3><ol>
<li><p>访问的<code>url</code>地址和<code>文件</code>的名字是否相同?</p>
<ol>
<li>相同</li>
</ol>
</li>
<li><p>本节的代码是否有优化的空间?</p>
<ol>
<li>可以优化–一会优化</li>
</ol>
</li>
</ol>
<h1 id="实现静态WEB服务器"><a href="#实现静态WEB服务器" class="headerlink" title="实现静态WEB服务器"></a>实现静态WEB服务器</h1><blockquote>
<p>基于上一节的代码,调整为<strong>静态web服务器</strong></p>
<ul>
<li>运行之后</li>
<li>同一局域网中的用户输入<ul>
<li><code>http://ip:端口/xxx.html</code></li>
<li><code>http://ip:端口/xxx.png</code></li>
</ul>
</li>
<li>即可访问服务器<code>www</code>目录中对应的文件</li>
</ul>
</blockquote>
<h2 id="服务器响应首页"><a href="#服务器响应首页" class="headerlink" title="服务器响应首页"></a>服务器响应首页</h2><blockquote>
<p>首先完成响应首页的逻辑</p>
</blockquote>
<h3 id="需求-3"><a href="#需求-3" class="headerlink" title="需求:"></a>需求:</h3><ol>
<li>浏览器中输入<code>/</code>或者<code>/index.html</code></li>
<li>读取并返回<code>www</code>目录中的<code>index.html</code></li>
</ol>
<h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析:"></a>分析:</h3><ol>
<li><p><strong>准备工作</strong>:</p>
<ol>
<li>创建<code>www</code>目录并整合上一节的时钟界面</li>
</ol>
</li>
<li><p><strong>绝对路径</strong>读取文件,需要导入哪些模块?</p>
<ol>
<li>fs</li>
<li>path</li>
</ol>
</li>
<li><p><strong>返回读取的内容</strong></p>
<ol>
<li><code>end</code>方法响应内容</li>
</ol>
</li>
</ol>
<h3 id="核心代码-1"><a href="#核心代码-1" class="headerlink" title="核心代码:"></a>核心代码:</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 http 模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建 web 服务器实例</span></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 启动服务器</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8848</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;my server start work&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 为服务器实例绑定 request 事件，监听客户端的请求</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 判断地址 / 和 /index.html ---&gt;/index.html</span></span><br><span class="line">  <span class="keyword">let</span> url = request.<span class="property">url</span></span><br><span class="line">  <span class="comment">// 1./ /index.html 读取并返回 index.html</span></span><br><span class="line">  <span class="keyword">if</span> (url === <span class="string">&#x27;/&#x27;</span> || url === <span class="string">&#x27;/index.html&#x27;</span>) &#123;</span><br><span class="line">    url = <span class="string">&#x27;/index.html&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 读取并返回</span></span><br><span class="line">  <span class="comment">// 绝对路径 读取内容 响应给浏览器</span></span><br><span class="line">  <span class="keyword">const</span> fullPath = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./www&#x27;</span>, url)</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = fs.<span class="title function_">readFileSync</span>(fullPath)</span><br><span class="line">    response.<span class="title function_">end</span>(res)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="注意"><a href="#注意" class="headerlink" title="注意:"></a>注意:</h3><ol>
<li><code>/index.js</code>和平级<code>www</code></li>
<li>端口的设置<code>:xxx</code><ol>
<li>3000-&gt;4399-&gt;8848</li>
</ol>
</li>
</ol>
<h3 id="服务器响应首页-1"><a href="#服务器响应首页-1" class="headerlink" title="服务器响应首页"></a>服务器响应首页</h3><ol>
<li><p>页面放置的位置一定是<code>www</code>吗?</p>
<ol>
<li><strong>只要你愿意</strong>,叫什么都可以</li>
</ol>
</li>
<li><p>浏览器中输入的<strong>URL</strong>地址，仅仅是一个标识,最终返回的内容<strong>由谁决定</strong>?</p>
<ol>
<li>服务器的<strong>开发者</strong>决定</li>
</ol>
</li>
</ol>
<h2 id="根据不同url响应对应的文件"><a href="#根据不同url响应对应的文件" class="headerlink" title="根据不同url响应对应的文件"></a>根据不同url响应对应的文件</h2><blockquote>
<p>基于上一节的逻辑,完成后续的代码</p>
</blockquote>
<h3 id="需求-4"><a href="#需求-4" class="headerlink" title="需求:"></a>需求:</h3><ol>
<li>请求其他的资源,读取<code>www</code>目录中对应的文件并返回</li>
<li>读取失败响应<code>404</code>–&gt;<code>not found</code></li>
</ol>
<h3 id="步骤-2"><a href="#步骤-2" class="headerlink" title="步骤:"></a>步骤:</h3><ol>
<li><strong>生成</strong>读取的<strong>文件路径</strong><ol>
<li>基于<code>url</code>属性,生成绝对路径</li>
</ol>
</li>
<li><strong>返回</strong>读取的内容<ol>
<li><code>end</code>方法</li>
</ol>
</li>
</ol>
<h3 id="测试步骤-1"><a href="#测试步骤-1" class="headerlink" title="测试步骤:"></a>测试步骤:</h3><ol>
<li>先用闹钟网页进行测试</li>
<li><strong>测试完毕</strong>之后替换页面为<code>数据可视化项目</code>的页面<ol>
<li>可能会有个<strong>bug</strong>,尝试<strong>解决它</strong></li>
</ol>
</li>
</ol>
<h3 id="核心代码-2"><a href="#核心代码-2" class="headerlink" title="核心代码:"></a>核心代码:</h3><h3 id="根据不同url响应对应的文件-1"><a href="#根据不同url响应对应的文件-1" class="headerlink" title="根据不同url响应对应的文件"></a>根据不同url响应对应的文件</h3><ol>
<li><p>替换为<code>数据可视化</code>项目之后出现的bug原因是?</p>
<ol>
<li>路径的末尾由<code>?xxx</code></li>
<li>删除样式文件中的路径即可</li>
</ol>
</li>
<li><p>静态<code>web</code>服务器核心代码的本质是?</p>
</li>
</ol>
<p><img src="assets/image-20220809182505357.png" alt="image-20220809182505357"></p>
<h2 id="总结-和-作业"><a href="#总结-和-作业" class="headerlink" title="总结 和 作业"></a>总结 和 作业</h2><blockquote>
<p>今天的重点内容 和 作业</p>
</blockquote>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h3><h3 id="作业"><a href="#作业" class="headerlink" title="作业:"></a>作业:</h3><p><img src="assets/%E4%BD%9C%E4%B8%9A.gif" alt="作业"></p>
<ol>
<li>基于提供的<code>info.json</code>依次实现如下功能,<ol>
<li>读取<code>info.json</code>并转为<strong>数组</strong></li>
<li>随机从<strong>数组</strong>中获取一条数据</li>
<li>累加<code>count</code>的值</li>
<li>重新保存回<code>info.json</code>(<strong>覆盖</strong>)</li>
</ol>
</li>
</ol>
<p>,宋忠平,李鸿鑫,刘军,胡晓峰,熊妍,刘莹,郭科显,郭倩,王志鹏,周良文</p>
<p>传到git 给我地址</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/11/17/Node.js%20-%20day01/" data-id="claky1gcr00022ct33td6gpx3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/11/17/first-blog/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">first blog</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/11/17/Node.js%20-%20day01/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/17/first-blog/">first blog</a>
          </li>
        
          <li>
            <a href="/2022/11/17/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>